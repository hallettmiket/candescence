all_images <- "/home/data/raw/candescence"
macro_files <- list.files(file.path(all_imags, "Macrophage_FITC"))
fluor_files <- list.files(file.path(all_images, "Macrophage_FITC"))
macro_files <- list.files(file.path(all_images, "Macrophage_MERGE"))
fluor_files
macro_files
macro_files[1]
macro_files <- list.files(file.path(all_images, "Macrophage_MERGE"))
macro_files
file.path(all_images, "Macrophage_MERGE")
macro_files <- list.files(file.path(all_images, "Macrophage_Merge"))
macro_files
fluor_files[1]
fluor_file
fluor_files
fluor_files[1]
fluor_files[2]
fluor_files[3]
fluor_files <- list.files(file.path(all_images, "Macrophage_FITC"), pattern=".tif")
macro_files <- list.files(file.path(all_images, "Macrophage_Merge"), pattern=".tif")
fluor_files
fluor_files[1]
macro_files[1]
output <- file.path(all_images, "FITC_Merge")
i <- 1
current <- fluor_files[i]
current
f_files <- str_split(fluor_files, "_")
library(tidyverse)
f_files <- str_split(fluor_files, "_")
f_files <- str_split(fluor_files, "_")
f_files
f_files[[1]]
m_files <- str_split(macro_files, "_")
? list.files
fluor_files <- list.files(file.path(all_images, "Macrophage_FITC"), pattern=".tif", full.name=TRUE)
macro_files <- list.files(file.path(all_images, "Macrophage_Merge"), pattern=".tif", full.names=TRUE)
f_files <- str_split(fluor_files, "_")
m_files <- str_split(macro_files, "_")
f_files[[1]]
f_files[[10]]
m_files[[1]]
f_files[[1]]
fluor_files
current <- fluor_files[i]
current
f_file[1]
f_files[1]
current
m_files[1]
short_fluor_files <- list.files(file.path(all_images, "Macrophage_FITC"), pattern=".tif")
short_fluor_files
f_files[[1]]
m_files[[1]]
current <- fluor_files[i]
macro <- file.path(all_images, "Macrophage_Merge",
paste("Merge", f_files[[i]][4], f_files[[i]][5],
f_files[[i]][6], f_files[[i]][7], f_files[[i]][8], sep="_"  ) )
macro
current <- fluor_files[i]
macro <- file.path(all_images, "Macrophage_Merge",
paste("Merge", f_files[[i]][4], f_files[[i]][5],
f_files[[i]][6], f_files[[i]][7], f_files[[i]][8], sep="_"  ) )
out <- file.path(output, "FITC_Merge",
paste("both", f_files[[i]][4], f_files[[i]][5],
f_files[[i]][6], f_files[[i]][7], f_files[[i]][8], sep="_"  )
)
cat("\n montage ", current, " ", macro, " ", out)
output <- file.path(all_images, "together")
current <- fluor_files[i]
macro <- file.path(all_images, "Macrophage_Merge",
paste("Merge", f_files[[i]][4], f_files[[i]][5],
f_files[[i]][6], f_files[[i]][7], f_files[[i]][8], sep="_"  ) )
out <- file.path(output,
paste("both", f_files[[i]][4], f_files[[i]][5],
f_files[[i]][6], f_files[[i]][7], f_files[[i]][8], sep="_"  )
)
cat("\n montage ", current, " ", macro, " ", out)
current <- fluor_files[i]
macro <- file.path(all_images, "Macrophage_Merge",
paste("Macrophage_Merge", f_files[[i]][4], f_files[[i]][5],
f_files[[i]][6], f_files[[i]][7], f_files[[i]][8], sep="_"  ) )
out <- file.path(output,
paste("both", f_files[[i]][4], f_files[[i]][5],
f_files[[i]][6], f_files[[i]][7], f_files[[i]][8], sep="_"  )
)
cat("\n montage ", current, " ", macro, " ", out)
cat("\n montage ", current, " ", macro, " -tile 2x1 -geometry +0+0 ", out)
for (i in 1:length(fluor_files)) {
current <- fluor_files[i]
macro <- file.path(all_images, "Macrophage_Merge",
paste("Macrophage_Merge", f_files[[i]][4], f_files[[i]][5],
f_files[[i]][6], f_files[[i]][7], f_files[[i]][8], sep="_"  ) )
out <- file.path(output,
paste("both", f_files[[i]][4], f_files[[i]][5],
f_files[[i]][6], f_files[[i]][7], f_files[[i]][8], sep="_"  )
)
cat("\n montage ", current, " ", macro, " -tile 2x1 -geometry +0+0 ", out)
}
all_files <- list.files(file.path(all_images, "together), pattern=".tif", full.name=TRUE)
all_files
file.path(all_images, "together)
)
all_files <- list.files(file.path(all_images, "together"), pattern=".tif", full.name=TRUE)
all_files <- list.files(file.path(all_images, "together"), pattern=".tif", full.name=TRUE)
all_files
tmp <- str_split(all_files, pattern=".tif")
tmp
for (i in 1:length(all_files)) {
cat("\n convert ", all_files[i], " ", paste0(tmp[i], ".bmp" ))
}
tmp[[1]]
for (i in 1:length(all_files)) {
cat("\n convert ", all_files[i], " ", paste0(tmp[[i]][1], ".bmp" ))
}
